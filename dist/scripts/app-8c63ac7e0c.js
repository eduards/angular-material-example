/******/!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}// webpackBootstrap
/******/
var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";var n=i(1),o=i(2),a=i(3),l=i(4),s=i(5),r=i(6),c=i(7),u=i(8),d=i(9),f=i(10),m=i(11),v=i(12);angular.module("babylonHealth",["ngAnimate","ui.router","ngMaterial"]).config(n.config).config(o.routerConfig).run(a.runBlock).service("ListDialogService",c.ListDialogService).filter("profileName",s.ProfileNameFilter.prototype.filter).service("ProfilesService",u.ProfilesService).service("ProfessionsService",d.ProfessionsService).service("ProfessionalsService",m.ProfessionalsService).service("ConsultationsService",f.ConsultationsService).controller("ConsultationController",l.ConsultationController).controller("ListDialogController",r.ListDialogController).directive("bhNavbar",v.NavbarDirective)},function(e,t){"use strict";function i(e){"ngInject";e.debugEnabled(!0)}i.$inject=["$logProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.config=i},function(e,t){"use strict";function i(e,t){"ngInject";e.state("home",{url:"/",templateUrl:"app/core/home/home.html"}).state("consultation",{url:"/consultation",templateUrl:"app/core/consultation/consultation.html",controller:"ConsultationController",controllerAs:"consultation"}),t.otherwise("/")}i.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.routerConfig=i},function(e,t){"use strict";function i(e){"ngInject";e.debug("runBlock end")}i.$inject=["$log"],Object.defineProperty(t,"__esModule",{value:!0}),t.runBlock=i},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t,n,o,a,l,s,r,c){"ngInject";i(this,e),this.$log=n,this.$filter=o,this.$mdDialog=t,this.ListDialogService=a,this.ProfessionalsService=r,this.ProfessionsService=s,this.ConsultationsService=c,this.selectedProfile=void 0,this.selectedProfession=void 0,this.selectedProfessionAlternative=void 0,this.selectedProfessional=void 0,this.selectedAppointment=void 0,this.addedPhoto=void 0,this.addedNote=void 0,this.dateFormat="MMM, d   'at' HH:mm",this.activate(l,s)}return e.$inject=["$mdDialog","$log","$filter","ListDialogService","ProfilesService","ProfessionsService","ProfessionalsService","ConsultationsService"],n(e,[{key:"activate",value:function(e,t){var i=this;e.getAll().then(function(e){e.push({name:"Someone Else",imageUrl:"/assets/images/add-cross.png",type:"other"}),i.profiles=e}),t.getAll().then(function(e){i.professions=e})}},{key:"selectProfile",value:function(e){this.selectedProfile=e}},{key:"isProfileSelected",value:function(e){return this.selectedProfile===e}},{key:"selectProfession",value:function(e,t){var i=this;if(e.alternatives){var n=e.alternatives.map(function(e){return{label:e,value:e}}).concat({label:"All",value:void 0});this.ListDialogService.open("Select Doctor",n,t).then(function(t){i.selectedProfession=e,i.selectedProfessionAlternative=t,i.loadProfessionalsForProfession(e.name,t)})}else this.selectedProfession=e,this.selectedProfessionAlternative=void 0,this.loadProfessionalsForProfession(e.name)}},{key:"loadProfessionalsForProfession",value:function(e,t){var i=this;this.ProfessionalsService.getAvailableByType(e,t).then(function(e){i.professionals=e,i.professionals.forEach(function(e){e.availability.sort(),e.earliestAvailability=e.availability[0]}),i.professionals.sort(function(e,t){return e.earliestAvailability<t.earliestAvailability?-1:e.earliestAvailability>t.earliestAvailability?1:0}),i.selectedProfessional=i.professionals[0],i.selectedAppointment=angular.isDefined(i.professionals[0])?i.professionals[0].earliestAvailability:void 0})}},{key:"isProfessionSelected",value:function(e){return this.selectedProfession===e}},{key:"getAvailableProfessionals",value:function(){return angular.isUndefined(this.professionals)?[]:this.professionals.filter(function(e){return angular.isDefined(e.earliestAvailability)})}},{key:"selectProfessional",value:function(e){var t=this,i=this.getAvailableProfessionals().map(function(e){return{label:e.name,value:e}});this.ListDialogService.open("Select Doctor",i,e).then(function(e){t.setProfessional(e)})}},{key:"setProfessional",value:function(e){this.selectedProfessional=e,this.selectedAppointment=e.earliestAvailability}},{key:"selectAppointment",value:function(e){var t=this,i=this.selectedProfessional.availability.map(function(e){return{label:t.$filter("date")(e,t.dateFormat),value:e}});this.ListDialogService.open("Select Doctor",i,e).then(function(e){t.selectedAppointment=e})}},{key:"isObligatoryBookingDataSet",value:function(){return angular.isDefined(this.selectedProfile)&&angular.isDefined(this.selectProfessional)&&angular.isDefined(this.selectedAppointment)}},{key:"addPhoto",value:function(){alert("This function is not implemented yet.")}},{key:"addNote",value:function(){alert("This function is not implemented yet.")}},{key:"bookConsultation",value:function(){return this.isObligatoryBookingDataSet()?void this.ConsultationsService.bookAppointment(this.selectedProfile.id,this.selectedProfessional.id,this.selectedAppointment).then(function(){alert("The booking submission was successfull. (This alert box is a temporary solution)")})["catch"](function(){alert("The booking submission failed. (This alert box is a temporary solution)")}):(this.$log.error("Booking data is missing."),void alert("Booking data is missing. (This alert box is a temporary solution)"))}}]),e}();t.ConsultationController=o},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){i(this,e)}return n(e,[{key:"filter",value:function(){"ngInject";return function(e){return"identity"===e.type?"Yourself":e.name}}}]),e}();t.ProfileNameFilter=o},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t,n,o){"ngInject";i(this,e),this.$mdDialog=t,this.items=n,this.title=o}return e.$inject=["$mdDialog","items","title"],n(e,[{key:"selectListItem",value:function(e){return angular.isDefined(e.label)?this.$mdDialog.hide(e.value):this.$mdDialog.hide(e)}},{key:"closeDialog",value:function(){this.$mdDialog.cancel()}}]),e}();t.ListDialogController=o},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t,n){"ngInject";i(this,e),this.$mdDialog=t,this.$document=n}return e.$inject=["$mdDialog","$document"],n(e,[{key:"open",value:function(e,t,i){return this.$mdDialog.show({controller:"ListDialogController",controllerAs:"listDialog",templateUrl:"app/components/listDialog/listDialog.html",bindToController:!0,parent:angular.element(this.$document.body),escapeToClose:!0,clickOutsideToClose:!0,fullscreen:!1,targetEvent:i,locals:{title:e,items:t}})}}]),e}();t.ListDialogService=o},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){"ngInject";i(this,e),this.$q=t}return e.$inject=["$q"],n(e,[{key:"getAll",value:function(){return this.$q.when([{id:1,name:"Max",imageUrl:"https://static.pexels.com/photos/7720/night-animal-dog-pet.jpg",type:"identity"},{id:2,name:"Sarah",imageUrl:"http://images.wisegeek.com/young-calico-cat.jpg",type:"family"}])}}]),e}();t.ProfilesService=o},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){"ngInject";i(this,e),this.$q=t}return e.$inject=["$q"],n(e,[{key:"getAll",value:function(){return this.$q.when([{id:1,name:"GP",imageUrl:"http://i.imgur.com/WrYWdTA.jpg",alternatives:["Male","Female"]},{id:2,name:"Nurse",imageUrl:"http://designyoutrust.com/wp-content/uploads/2012/02/baby-milk-tea1.jpg"},{id:3,name:"Therapist",imageUrl:"https://i.ytimg.com/vi/SF6McpBnu5A/maxresdefault.jpg",alternatives:["Priory","Psychologists","Counselors"]},{id:4,name:"Specialist",imageUrl:"http://i.telegraph.co.uk/multimedia/archive/03497/comedy-hamster_3497562b.jpg"}])}}]),e}();t.ProfessionsService=o},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t,n){"ngInject";i(this,e),this.$q=t,this.$log=n}return e.$inject=["$q","$log"],n(e,[{key:"bookAppointment",value:function(e,t,i){var n={profileId:e,professionalId:t,appointment:i};return this.$log.log("Simulating $http.post('/api/consultations', consultationBooking) with data: ",n),this.$q.when(!0)}}]),e}();t.ConsultationsService=o},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){"ngInject";i(this,e),this.$q=t}return e.$inject=["$q"],n(e,[{key:"getAvailableByType",value:function(e,t){return this.$q.when([{id:1,name:"Mr. Jeffrey Braithwaite",type:"GP",subtype:"Male",availability:[new Date("2016-02-14T14:00"),new Date("2016-02-14T11:00")]},{id:2,name:"Mr. Rifki Guirgis",type:"GP",subtype:"Male",availability:[new Date("2016-02-15T16:30")]},{id:3,name:"Mr. Christopher Guyer",type:"GP",subtype:"Male",availability:[new Date("2016-02-12T14:00"),new Date("2016-02-14T11:00"),new Date("2016-02-24T09:00")]},{id:4,name:"Prof. Michel Cummings",type:"GP",subtype:"Male",availability:[new Date("2016-02-14T14:00")]},{id:5,name:"Dr. Jane Smith",type:"GP",subtype:"Female",availability:[new Date("2016-02-15T14:00")]},{id:6,name:"Dr. Steve Hurel",type:"GP",subtype:"Male",availability:[new Date("2016-02-15T14:00")]},{id:6,name:"Ms. Maja Gonzales",type:"Nurse",availability:[new Date("2016-02-19T14:00")]},{id:6,name:"Ms. Claire Bijo",type:"Nurse",availability:[new Date("2016-02-15T17:30")]},{id:7,name:"Dr. Lara Lajiz",type:"GP",subtype:"Female",availability:[new Date("2016-02-15T14:00"),new Date("2016-02-17T11:00")]}].filter(function(i){return i.type===e&&(angular.isUndefined(t)||i.subtype===t)}))}}]),e}();t.ProfessionalsService=o},function(e,t){"use strict";function i(){"ngInject";var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{},link:function(e){e.$on("$stateChangeSuccess",function(t,i){"home"===i.name?e.selectedTabIndex=0:"consultation"===i.name&&(e.selectedTabIndex=1)})}};return e}Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarDirective=i}]),angular.module("babylonHealth").run(["$templateCache",function(e){e.put("app/components/listDialog/listDialog.html",'<md-dialog class="bh-list-dialog" aria-label="Mango (Fruit)" ng-cloak=""><form><md-toolbar><div class="md-toolbar-tools"><h1 ng-bind="listDialog.title"></h1></div></md-toolbar><md-dialog-content><md-list><md-list-item class="md-clickable" role="listitem" tabindex="-1" ng-repeat="item in listDialog.items track by $index"><md-button type="button" ng-click="listDialog.selectListItem(item)" aria-label="Choose list item"><span ng-show="item.label" ng-bind="item.label"></span> <span ng-hide="item.label" ng-bind="item"></span></md-button></md-list-item></md-list></md-dialog-content><md-dialog-actions><md-button ng-click="listDialog.closeDialog()">Cancel</md-button></md-dialog-actions></form></md-dialog>'),e.put("app/components/navbar/navbar.html",'<div layout="row" class="bh-navbar"><md-toolbar class="layout-max" layout="row" layout-align="center"><div flex="initial"><img class="bh-navbar-logo" ng-src="assets/images/bh-logo.png" alt="Babylon Health Logo" ui-sref="home"></div><div flex="" layout="column"><md-tabs md-selected="selectedTabIndex"><md-tab id="home" aria-controls="home" ui-sref="home">Home</md-tab><md-tab id="consultation" aria-controls="consultation" ui-sref="consultation">Book a Consultation</md-tab></md-tabs></div></md-toolbar><div></div></div>'),e.put("app/core/consultation/consultation.html",'<div class="core-consultation"><div layout="column" class="layout-max"><h1>Book a Consultation</h1><md-card md-whiteframe="3"><md-card-content><h2>Book this consultation for</h2><div layout="row" layout-xs="column" layout-align="center center"><div layout="row" layout-xs="column" ng-repeat="profile in consultation.profiles"><div class="icon-check" ng-class="{\'active\':consultation.isProfileSelected(profile)}" ng-click="consultation.selectProfile(profile)"><div class="image" style="background-image: url(\'{{profile.imageUrl}}\')"><md-icon class="material-icons step">check_circle</md-icon></div><label ng-bind="profile | profileName"></label></div><span hide-xs="" ng-if="!$last" class="divider">or</span> <span show-gt-xs="" ng-if="!$last" class="divider">&nbsp;</span></div></div></md-card-content><md-divider></md-divider><md-card-content><h2>Select a healthcare professional</h2><div layout="row" layout-xs="column" layout-align="center center"><div layout="row" layout-xs="column" ng-repeat="profession in consultation.professions"><div class="icon-check" ng-class="{\'active\':consultation.isProfessionSelected(profession)}" ng-click="consultation.selectProfession(profession, $event)"><div class="image" style="background-image: url(\'{{profession.imageUrl}}\')"><md-icon class="material-icons step">check_circle</md-icon></div><label><div class="label" ng-bind="profession.name"></div><div class="sub-label"><span if="consultation.selectedProfessionAlternative" ng-bind="consultation.selectedProfessionAlternative"></span> <span if="!consultation.selectedProfessionAlternative">&nbsp;</span></div></label></div><span hide-xs="" ng-if="!$last" class="divider">or</span> <span show-gt-xs="" ng-if="!$last" class="divider">&nbsp;</span></div></div></md-card-content><md-divider></md-divider><md-card-content ng-show="consultation.selectedProfession"><h2>Select the doctor</h2><md-button ng-disabled="consultation.getAvailableProfessionals().length == 0" class="consultation-booking-select-btn md-raised md-primary" ng-click="consultation.selectProfessional($event)" aria-label="Select doctor"><div ng-if="consultation.getAvailableProfessionals().length == 0">No doctors available</div><div ng-if="consultation.getAvailableProfessionals().length == 0">Try another professional</div><div ng-if="consultation.getAvailableProfessionals().length > 0" ng-bind="consultation.selectedProfessional.name"></div><div ng-if="consultation.getAvailableProfessionals().length > 0" ng-bind="consultation.selectedProfessional.type"></div></md-button></md-card-content><md-divider ng-show="consultation.selectedProfession"></md-divider><md-card-content ng-show="consultation.selectedProfessional"><h2>Next available appointment</h2><md-button class="consultation-booking-select-btn md-raised md-primary" ng-click="consultation.selectAppointment($event)" aria-label="Select appointment"><div ng-bind="consultation.selectedAppointment | date:consultation.dateFormat"></div><div>Click to Select a different time</div></md-button></md-card-content><md-divider ng-show="consultation.selectedProfessional"></md-divider><md-card-content class="consultation-booking-attachments"><div>Get the best from your consultation by uploading a photo or a note.</div><md-button ng-click="consultation.addPhoto()"><md-icon aria-label="photo" class="material-icons step">add_a_photo</md-icon><span>Attach a Photo</span></md-button><md-button ng-click="consultation.addNote()"><md-icon aria-label="photo" class="material-icons step">event_note</md-icon><span>Add a Note</span></md-button></md-card-content><md-divider></md-divider><md-card-actions layout="row" layout-align="center center"><md-button ng-disabled="!consultation.isObligatoryBookingDataSet()" ng-click="consultation.bookConsultation()" class="consultation-booking-submit-btn md-raised md-primary" aria-label="Submit booking request">Book Consultation</md-button></md-card-actions></md-card></div></div>'),e.put("app/core/home/home.html",'<div layout="column" class="core-home layout-max"><h1>Welcome, How can we help you?</h1><md-card md-whiteframe="3"><md-card-content><h2>Book a Consultation</h2><p>Seeing a doctor is easy. You can book a consultation and speak to a leading GP in minutes. Most of the time patients\' problems are resolved there and then, with prescriptions arranged where necessary.<br>Our UK and Ireland based GPs are available wherever you are, at a time that suits you.</p><b>Unlimited consultations for just GBP4.99 or GBP7.99 per month.</b></md-card-content><div><img src="/assets/images/home-deco.png" width="100%"></div><md-card-actions><md-button class="md-raised md-primary" ui-sref="consultation">Book Consultation</md-button></md-card-actions></md-card></div>')}]);
//# sourceMappingURL=../maps/scripts/app-8c63ac7e0c.js.map
